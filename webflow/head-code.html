<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%2232%22 x=%2250%22 font-size=%2230%22 text-anchor=%22middle%22>ü¶Ü‚ù§Ô∏èüëª</text></svg>">

<style>
  * {
    box-sizing: border-box;
  }

  html {
    overflow-x: hidden;
    max-width: 100vw;
    width: 100%;
  }

  body {
    overflow-x: hidden;
    max-width: 100vw;
    width: 100%;
    position: relative;
  }

  .page-wrapper,
  .main-wrapper,
  main,
  .w-layout-blockcontainer,
  .container {
    max-width: 100vw;
    overflow: hidden;
  }

  .sticky-header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    width: 100%;
    height: 7vh;
    max-height: 60px;
    z-index: 1000;
    background-color: #000000;
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    padding: 0 16px !important;
  }

  .sticky-header .logo {
    display: block !important;
    height: 24px !important;
    width: auto !important;
  }

  .sticky-header .w-embed {
    position: absolute !important;
    left: 50% !important;
    top: 55% !important;
    transform: translate(-50%, -50%) !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    pointer-events: auto !important;
    z-index: 1001 !important;
  }

  .sticky-header svg {
    width: 24px !important;
    height: 24px !important;
    display: block !important;
  }

  .sticky-header .menu-button {
    display: flex !important;
    flex-direction: column !important;
    gap: 5px !important;
    cursor: pointer !important;
  }

  .sticky-header .menu-button span {
    width: 24px !important;
    height: 2px !important;
    background: #888 !important;
    display: block !important;
  }

  .sticky-header > *:not(svg):not(.w-embed) {
    display: none !important;
  }

  .sticky-footer {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    width: 100%;
    height: 10vh;
    max-height: 80px;
    z-index: 1000;
  }

  .product-list-wrapper {
    padding-top: 8vh;
    padding-bottom: 11vh;
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .product-item {
    height: 80vh;
    min-height: 520px;
    margin-bottom: 1vh;
    width: 100%;
    display: flex;
    justify-content: center;
    padding: 0 8px;
  }

  .product-card {
    height: 100%;
    width: 100%;
    border-radius: 20px;
  }

  .card-inner {
    position: relative;
    width: 100%;
    height: 100%;
  }

  .card-front {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 20px;
    background: #ffffff;
    z-index: 2;
    opacity: 1;
    visibility: visible;
    transition: opacity 0.3s ease, visibility 0.3s ease;
  }

  .card-back {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 20px;
    background: #1a1a1a;
    z-index: 1;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
  }

  .product-card.flipped .card-front {
    opacity: 0;
    visibility: hidden;
    z-index: 1;
  }

  .product-card.flipped .card-back {
    opacity: 1;
    visibility: visible;
    z-index: 2;
  }

  .gallery-slides {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
  }

  .gallery-slides::-webkit-scrollbar {
    display: none;
  }

  /* Category Grid */
  .category-grid {
    grid-template-columns: repeat(3, 52px) !important;
    gap: 6px !important;
    justify-content: center !important;
    justify-items: center !important;
    align-content: start !important;
    padding: 8px 0 !important;
    width: 100% !important;
    margin: 0 auto !important;
  }

  .category-icon-wrapper {
    width: 52px !important;
    height: 52px !important;
  }

  .category-icon-wrapper img {
    width: 100% !important;
    height: 100% !important;
    object-fit: contain !important;
  }

  /* Info Drawers */
  .info-drawers {
    background: #1a1a1a !important;
    margin-top: -280px !important;
    padding-bottom: 100px !important;
    position: relative !important;
    z-index: 5 !important;
  }

  .drawer {
    position: relative !important;
    background: #1a1a1a !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
  }

  .drawer-header {
    padding: 12px 16px !important;
    cursor: pointer !important;
    display: flex !important;
    align-items: center !important;
    gap: 8px !important;
  }

  .drawer-content {
    display: none !important;
    padding: 12px 16px !important;
    font-size: 13px !important;
    line-height: 1.5 !important;
    color: rgba(255, 255, 255, 0.8) !important;
    position: absolute !important;
    bottom: 100% !important;
    left: 0 !important;
    right: 0 !important;
    background: rgba(30, 30, 30, 0.95) !important;
    max-height: 150px !important;
    overflow-y: auto !important;
    border-radius: 8px 8px 0 0 !important;
    text-align: left !important;
    white-space: pre-line !important;
  }

  .drawer.open .drawer-content {
    display: block !important;
  }

  .drawer-content p,
  .drawer-content div,
  .drawer-content span {
    text-align: left !important;
  }

  .drawer-content h4,
  .drawer-content h5,
  .drawer-content .content-label,
  .drawer-content strong {
    display: block !important;
    margin-top: 12px !important;
    padding-top: 12px !important;
    border-top: 1px solid rgba(255, 255, 255, 0.1) !important;
    font-size: 11px !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
    color: rgba(255, 255, 255, 0.5) !important;
    margin-bottom: 6px !important;
  }

  .drawer-content h4:first-child,
  .drawer-content h5:first-child,
  .drawer-content .content-label:first-child,
  .drawer-content strong:first-child {
    margin-top: 0 !important;
    padding-top: 0 !important;
    border-top: none !important;
  }

  .drawer-content br {
    display: block !important;
    margin-bottom: 8px !important;
  }

  .drawer-icon {
    width: 16px !important;
    height: 16px !important;
    background: none !important;
    border: none !important;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23888888' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M9 18l6-6-6-6'/%3E%3C/svg%3E") !important;
    background-size: contain !important;
    background-repeat: no-repeat !important;
    background-position: center !important;
    transition: transform 0.3s ease !important;
  }

  .drawer.open .drawer-icon {
    transform: rotate(90deg) !important;
  }

  /* Back Button */
  .back-to-categories {
    top: 36px !important;
    left: 24px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    line-height: 1 !important;
  }

  /* Attribute Modal */
  .attribute-modal-overlay {
    align-items: center !important;
    justify-content: center !important;
    padding: 20px !important;
  }

  .attribute-modal {
    max-height: 70vh !important;
    margin: auto !important;
  }

  /* Filter Overlay */
  .filter-overlay {
    display: none;
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    background: rgba(0, 0, 0, 0.9) !important;
    z-index: 9999 !important;
    overflow-y: auto !important;
    padding: 20px !important;
  }

  .filter-overlay.visible {
    display: block !important;
  }

  .filter-overlay:not(.visible) {
    display: none !important;
    visibility: hidden !important;
  }

  .filter-overlay *,
  .filter-chip,
  .filter-nav button,
  .filter-done-btn {
    pointer-events: auto !important;
    cursor: pointer !important;
  }

  .filter-panel {
    background: #1a1a1a !important;
    border-radius: 16px !important;
    padding: 20px !important;
    max-width: 400px !important;
    margin: 0 auto !important;
  }

  .filter-header {
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
    margin-bottom: 20px !important;
  }

  .filter-title {
    color: #fff !important;
    font-size: 18px !important;
    font-weight: 600 !important;
  }

  .filter-done-btn {
    background: #888 !important;
    color: #fff !important;
    border: none !important;
    padding: 8px 16px !important;
    border-radius: 20px !important;
  }

  .filter-step {
    display: none !important;
  }

  .filter-step.active {
    display: block !important;
  }

  .filter-question {
    color: #fff !important;
    font-size: 16px !important;
    margin-bottom: 16px !important;
  }

  .filter-options {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 8px !important;
    margin-bottom: 20px !important;
  }

  .filter-options.scrollable {
    max-height: 200px !important;
    overflow-y: auto !important;
  }

  .filter-chip {
    background: rgba(255, 255, 255, 0.1) !important;
    color: #fff !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    padding: 8px 14px !important;
    border-radius: 20px !important;
    font-size: 13px !important;
  }

  .filter-chip.selected {
    background: #888 !important;
    border-color: #888 !important;
  }

  .filter-nav {
    display: flex !important;
    gap: 10px !important;
    justify-content: flex-end !important;
  }

  .filter-nav button {
    background: rgba(255, 255, 255, 0.1) !important;
    color: #fff !important;
    border: none !important;
    padding: 10px 20px !important;
    border-radius: 20px !important;
  }

  .filter-apply-btn {
    background: #888 !important;
  }

  .progress-dot {
    width: 8px !important;
    height: 8px !important;
    border-radius: 50% !important;
    background: rgba(255, 255, 255, 0.2) !important;
    display: none !important;
    margin: 0 4px 16px !important;
  }

  .filter-overlay.visible .progress-dot {
    display: inline-block !important;
  }

  .progress-dot.active,
  .progress-dot.completed {
    background: #888 !important;
  }

  .active-filters {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 6px !important;
    margin-top: 16px !important;
  }

  .active-filter-tag {
    background: rgba(255, 255, 255, 0.1) !important;
    color: #fff !important;
    padding: 4px 10px !important;
    border-radius: 12px !important;
    font-size: 11px !important;
  }

  .active-filter-tag .remove {
    margin-left: 6px !important;
    cursor: pointer !important;
  }

  #filterBtn {
    pointer-events: auto !important;
    z-index: 1001 !important;
    cursor: pointer !important;
  }

  /* Grid Embed visibility */
  body > .grid-embed,
  .product-list-wrapper > .grid-embed,
  .grid-embed:not(.card-back .grid-embed) {
    display: none !important;
  }

  .card-back .grid-embed {
    display: grid !important;
  }

  /* Mobile */
  @media (max-width: 767px) {
    .product-item {
      height: 75vh;
      min-height: 440px;
    }

    .category-grid {
      grid-template-columns: repeat(3, 48px) !important;
      gap: 4px !important;
      padding: 6px 0 0 0 !important;
      margin-bottom: 0 !important;
    }

    .category-icon-wrapper {
      width: 48px !important;
      height: 48px !important;
    }

    .info-drawers {
      margin-top: -200px !important;
      padding-bottom: 90px !important;
    }

    .back-to-categories {
      top: 32px !important;
      left: 20px !important;
    }

    .attribute-modal-overlay {
      align-items: center !important;
      padding: 16px !important;
    }

    .attribute-modal {
      max-height: 60vh !important;
      border-radius: 20px !important;
    }
  }

  /* Desktop */
  @media (min-width: 768px) {
    .info-drawers {
      margin-top: -400px !important;
      padding-bottom: 120px !important;
    }

    .category-grid {
      padding: 12px 0 !important;
      margin-bottom: -20px !important;
    }
  }
</style>

<script defer src="https://cdn.jsdelivr.net/npm/@finsweet/attributes-cmsfilter@1/cmsfilter.js"></script>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const personaIcons = {
    antiaging: 'https://cdn.prod.website-files.com/6759f0a54f1395fcb6c5b78e/692bb6172420eccbf003d94f_Persona-Professional-9S-Icon.png',
    family: 'https://cdn.prod.website-files.com/6759f0a54f1395fcb6c5b78e/692bb633b7dfc3c4a9930460_Persona-Family-9S-Icon.png',
    gentle: 'https://cdn.prod.website-files.com/6759f0a54f1395fcb6c5b78e/692bb624180b13d5ed06c2cb_Persona-Gentle-9S-Icon.png',
    inclusive: 'https://cdn.prod.website-files.com/6759f0a54f1395fcb6c5b78e/692bb61ec270b74752bedbf3_Persona-Inclusion-9S-Icon.png',
    genz: 'https://cdn.prod.website-files.com/6759f0a54f1395fcb6c5b78e/692bb2d59b2ada3aa2708d39_Persona-Gen-Z-Black-Icon.png',
    skeptic: 'https://cdn.prod.website-files.com/6759f0a54f1395fcb6c5b78e/692bb60b682f92c0edf1e806_Persona-Skeptic-9S-Icon.png'
  };

  document.querySelectorAll('.product-item').forEach(function(item) {
    const scores = [];
    ['antiaging', 'family', 'gentle', 'inclusive', 'genz', 'skeptic'].forEach(function(persona) {
      const el = item.querySelector('[fs-cmsfilter-field="' + persona + '"]');
      const score = el ? parseInt(el.textContent) || 0 : 0;
      scores.push({ persona: persona, score: score });
    });

    scores.sort((a, b) => b.score - a.score);
    const top3 = scores.slice(0, 3).filter(s => s.score > 0);

    const iconContainer = item.querySelector('.persona-icons');
    if (iconContainer && top3.length > 0) {
      iconContainer.innerHTML = top3.map(function(s) {
        return '<img src="' + personaIcons[s.persona] + '" alt="' + s.persona + '" style="width:35px;height:35px;">';
      }).join('');
    }
  });
});
</script>
